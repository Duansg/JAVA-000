### 下单扣库存流程

![](https://secure-static.wolai.com/static/7ee7cpZFiShFArFyaDBVS8/image.png)

### 时序图

![](https://secure-static.wolai.com/static/cYJDxFkWPNeEA9kyjTN9FS/image.png)

![](https://secure-static.wolai.com/static/gxkv7nrG5sxma2QiunGJSp/image.png)

### 新增产品

![](https://secure-static.wolai.com/static/3d47wAX2iRD7bDwVkfZpKW/image.png)

#### 数据库

![](https://secure-static.wolai.com/static/2HsY8wk1GkqAoDQFFBarnh/image.png)

#### 缓存

![](https://secure-static.wolai.com/static/rzEi5RTsdgccLkpjU4X1Jo/image.png)



#### 下单

![](https://secure-static.wolai.com/static/2ezaLhxvWuP6QzTHkrmnA7/image.png)

### 数据库

![](https://secure-static.wolai.com/static/2D4xJjD2GK95Lb5UgSw3Pi/image.png)

#### 扣库存流水

![](https://secure-static.wolai.com/static/rv5EpXmGsEjwiN6NbvRySV/image.png)

#### 缓存

![](https://secure-static.wolai.com/static/vy5UQwkPtnFf6LBUWxVudz/image.png)

### 压测

![](https://secure-static.wolai.com/static/bdRFBWdnfFnJZmgn4jY9dF/image.png)

![](https://secure-static.wolai.com/static/ubQzqsJMuXrb47KQXYMKJ3/image.png)



![](https://secure-static.wolai.com/static/hpuxJAboLAqiYFrzPQrvwU/image.png)









